<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>V2ray搭建教程 - LongLit</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="V2Ray 是一个与 Shadowsocks 类似的代理软件，可以用来科学上网等。" />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="V2ray搭建教程" />
<meta property="og:description" content="V2Ray 是一个与 Shadowsocks 类似的代理软件，可以用来科学上网等。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.org/post/play/v2ray/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-07-05T09:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-05T09:00:00+00:00" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="V2ray搭建教程"/>
<meta name="twitter:description" content="V2Ray 是一个与 Shadowsocks 类似的代理软件，可以用来科学上网等。"/>
<script src="https://example.org/js/feather.min.js"></script>
	
	
        <link href="https://example.org/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://example.org/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css" />

	
	

	
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://example.org/">LongLit</a>
	</div>
	<div>
		<a href="/categories/编程">编程</a>
		<a href="/categories/玩机">玩机</a>
		<a href="/categories/笔记">笔记</a>
	</div>
	<nav>
		
		<a href="/post">文章</a>
		
		<a href="/tags">标签</a>
		
		<a href="/mark">书签</a>
		
		<a href="/about">关于</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">V2ray搭建教程</h1>
			<div class="meta">Posted on Jul 5, 2020</div>
		</div>
		

		<section class="body">
			<p>V2Ray 是一个与 Shadowsocks 类似的代理软件，可以用来科学上网等。</p>
<h1 id="1-服务器">1. 服务器</h1>
<p>1, 可以使用<a href="https://www.linode.com/">linode</a> 或者<a href="https://bandwagonhost.cn/">搬瓦工</a>vps服务器</p>
<p>2, 本次推荐Google Cloud(谷歌云)，搭建v2ray或者其余学习用途</p>
<p>3, <img src="https://cdn.jsdelivr.net/gh/xiongJum/Picture/img/scr_GoogleCloud.png" alt=""></p>
<pre><code>(1). 优点

+   也无需担心和AWS一样会莫名其妙的扣费，在没有升级为付费用户之前是不会扣除信用卡的金额
+   新用户会赠送等同于$300 的当地货币使用，有效期为12个月
+   有香港等亚太地区的服务器，使用延迟会好上不少

(2). 缺点

+   搭建过程中需要使用魔法上网
</code></pre>
<p>4, 本教程暂不介绍服务器申请
5, 也可以使用別的國外服務器</p>
<h1 id="2-服务端配置">2. 服务端配置</h1>
<p>1, 本次教程选择的面板为<a href="https://github.com/sprov065">sprov065</a>@github用户的<a href="https://github.com/sprov065/v2-ui">v2-ui</a></p>
<pre><code>(1). 可视化操作，查看方便、学习门槛较低
(2). 由于是网页端所以管理会比较方便
(3). 该面板可以配置多用户
</code></pre>
<h2 id="21-安装升级">2.1 安装&amp;升级</h2>
<p>1, 安裝v2ray</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>bash &lt;(curl -Ls https://blog.sprov.xyz/v2-ui.sh)
</span></span></code></pre></div><h2 id="22-設置">2.2 設置</h2>
<p>1, 输入v2-ui，进入面板设置</p>
<!-- raw HTML omitted -->
<p>2， 查看或者重新设置面板的端口号</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 查找v2-ui的服务进程</span>
</span></span><span style="display:flex;"><span>ps -ef | grep v2-ui
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 根据PID查找端口号</span>
</span></span><span style="display:flex;"><span>netstat -nap | grep <span style="color:#f92672">[</span>PID<span style="color:#f92672">]</span>
</span></span></code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/xiongJum/Picture/Scr/03.png" alt=""></p>
<h2 id="23-通過瀏覽器設置代理">2.3 通過瀏覽器設置代理</h2>
<p>1, 输入当前服务器IP:端口 和账号密码admin，进入设置面板</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiongJum/Picture/Scr/04.png" alt=""></p>
<p>1, 点击账号列表，点击左上角的+号，进入添加账号页面，备注为非填项，其余默认即可，可以按照自己的需求进行修改，本次教程选择的协议为kcp
2, kcp消耗流量比较多，但延迟较低，对于延迟较高的IP，选择kcp会一定程度上改善网络环境
3, 如果想选择其余协议，可以参考<a href="https://toutyrater.github.io/advanced/wss_and_web.html">Blog</a>
4, 若想使用Nginx+w2+TLS进行网络代理，本教程中协议传输配置选择w2，不要选择TLS。TLS在Nginx中配置即可，但客户端中要选择TLS，端口为Nginx中代理的端口，非在本面板中设置的端口</p>
<p><img src="https://cdn.jsdelivr.net/gh/xiongJum/Picture/Scr/05.png" alt=""></p>
<p>点击添加-二维码-复制连接，即可获得v2Ray的连接</p>
<h1 id="3-客户端配置">3. 客户端配置</h1>
<h2 id="31-下载地址">3.1 下载地址</h2>
<p>PC端：<a href="https://github.com/2dust/v2rayN/releases">windows</a>、<a href="https://github.com/Cenmrev/V2RayX/releases">MacOS</a>
移动端：<a href="https://github.com/2dust/v2rayNG/releases">Android</a></p>
<h2 id="32-配置windows">3.2 配置：windows</h2>
<p>1, 下载并解压<a href="https://github.com/2dust/v2rayN/releases/download/3.19/v2rayN.zip">v2RayN</a>和<a href="https://github.com/2dust/v2rayN/releases/download/3.19/v2rayN-Core.zip">v2rayN-Core</a>
2, 点击v2rayN.exe文件，右击右下角的v2rayN的图标选择{从剪贴板导入批量Url}
3, 双击右下角的v2ray图标进入显示面板，可以发现有刚刚导入的链接
4, 右击右下角的图标选择{Http代理-PAC模式}</p>
<h1 id="4-扩展">4. 扩展</h1>
<h2 id="41-模式说明">4.1 模式说明</h2>
<p>1, 全局是代理所有的网络包括局域网和国内的网络如百度，和国外的网络如Google
2, PAC是通过配置文件选择代理部分网络
3, v2ray支持GFWfilt地址和本地pac文件同时生效，若GFWList地址中没有代理你需要的网络，你可以在用户PAC设置中手动添加要代理的ip或者域名
<img src="https://cdn.jsdelivr.net/gh/xiongJum/Picture//Scr/08.png" alt=""></p>
<h2 id="42-設置pac代理">4.2 設置PAC代理</h2>
<p>1, pixiv的PAC代理地址</p>
<ul>
<li><a href="https://www.pixiv.net">www.pixiv.net</a>,</li>
<li>api.booth.pm,(存疑)</li>
<li>i.pximg.net,</li>
</ul>
<h2 id="43-局域网代理配置如switch配置">4.3 局域网代理配置（如switch配置）</h2>
<p>1, 双击v2ray-参数设置，进入设置页面，点击基础设置查看本地监听端口
2, http代理默认即可，你也可以根据自己的选择进行不同的配置
3, 本地会开启两个端口号（设置的端口号X和X+1）
4, 按下快捷键win+R，在运行输入框中输入cmd
5, 在cmd界面输入ipconfig
<img src="https://cdn.jsdelivr.net/gh/xiongJum/Picture//Scr/09.png" alt=""></p>
<p>6,在要代理的机器中（如switch）ip设置为上图的ipv4、端口号为设置的端口号+1</p>
<hr>
<h1 id="4-引申文檔">4. 引申文檔</h1>
<p><a href="https://selierlin.github.io/v2ray/">V2Ray 配置指南</a></p>
		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91">科学上网</a></li>
					
					<li><a href="/tags/v2ray">v2ray</a></li>
					
				</ul>
			</nav>
			
			
		</div>
		</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/athul/archie" rel="me" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2024  © LongLit |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>

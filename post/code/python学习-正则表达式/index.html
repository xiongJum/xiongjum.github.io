<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>正则表达式 - LongLit</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="初识正则表达式 使用python的内置函数 # 设置一个常量 name = &#39;XiongJum|酒明|JumXiong|初学者&#39; # 判断是否有字符串XiongJum print(&#39;是否含有XiongJum这个字符串：{}&#39;.format(name.index(&#39;XiongJum&#39;) &lt; 1)) print(&#39;是否含有XiongJum这个字符串：{}&#39;.format(&#39;XiongJum&#39; in name)) 是否含有XiongJum这个字符串：True 是否含有XiongJum这个字符串：True 初识正则表达式re Python内置函数能简单解决的事情，就没有必要使用正则表达式，如下例 import re findall = re.findall(&#39;Jum&#39;, name) print(findall) if len(findall) &gt; 0: print(&#39;name含有Jum这个字符串&#39;) else: print(&#39;name不含有Jum这个字符串&#39;) [&#39;Jum&#39;, &#39;Jum&#39;] name含有Jum这个字符串 # 选择 name 里面的所有小写英文字母 re_findall = re.findall(&#39;[a-z]&#39;, name) print(re_findall) [&#39;i&#39;, &#39;o&#39;, &#39;n&#39;, &#39;g&#39;, &#39;u&#39;, &#39;m&#39;, &#39;u&#39;, &#39;m&#39;, &#39;i&#39;, &#39;o&#39;, &#39;n&#39;, &#39;g&#39;] 字符集 字符集是由一对方括号&quot;[]&ldquo;括起来的字符集合，使用字符集合可以匹配多个字符中的一个 如 C[ET]O,匹配到为CEO或CTO [0-9a-fA-F]，匹配单个的十六进制数字 字符和范围定义的先后循序对匹配的结果是没有任何影响的 a = &#39;uav,ubv,ucv,ucv,uov,uzb&#39; # 取&#39;u&#39; 和&#39;v&#39;中间为‘a’或‘b’的字符 findbat = re." />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="正则表达式" />
<meta property="og:description" content="初识正则表达式 使用python的内置函数 # 设置一个常量 name = &#39;XiongJum|酒明|JumXiong|初学者&#39; # 判断是否有字符串XiongJum print(&#39;是否含有XiongJum这个字符串：{}&#39;.format(name.index(&#39;XiongJum&#39;) &lt; 1)) print(&#39;是否含有XiongJum这个字符串：{}&#39;.format(&#39;XiongJum&#39; in name)) 是否含有XiongJum这个字符串：True 是否含有XiongJum这个字符串：True 初识正则表达式re Python内置函数能简单解决的事情，就没有必要使用正则表达式，如下例 import re findall = re.findall(&#39;Jum&#39;, name) print(findall) if len(findall) &gt; 0: print(&#39;name含有Jum这个字符串&#39;) else: print(&#39;name不含有Jum这个字符串&#39;) [&#39;Jum&#39;, &#39;Jum&#39;] name含有Jum这个字符串 # 选择 name 里面的所有小写英文字母 re_findall = re.findall(&#39;[a-z]&#39;, name) print(re_findall) [&#39;i&#39;, &#39;o&#39;, &#39;n&#39;, &#39;g&#39;, &#39;u&#39;, &#39;m&#39;, &#39;u&#39;, &#39;m&#39;, &#39;i&#39;, &#39;o&#39;, &#39;n&#39;, &#39;g&#39;] 字符集 字符集是由一对方括号&quot;[]&ldquo;括起来的字符集合，使用字符集合可以匹配多个字符中的一个 如 C[ET]O,匹配到为CEO或CTO [0-9a-fA-F]，匹配单个的十六进制数字 字符和范围定义的先后循序对匹配的结果是没有任何影响的 a = &#39;uav,ubv,ucv,ucv,uov,uzb&#39; # 取&#39;u&#39; 和&#39;v&#39;中间为‘a’或‘b’的字符 findbat = re." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xiongjum.github.io/post/code/python%E5%AD%A6%E4%B9%A0-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-07-06T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-06T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="正则表达式"/>
<meta name="twitter:description" content="初识正则表达式 使用python的内置函数 # 设置一个常量 name = &#39;XiongJum|酒明|JumXiong|初学者&#39; # 判断是否有字符串XiongJum print(&#39;是否含有XiongJum这个字符串：{}&#39;.format(name.index(&#39;XiongJum&#39;) &lt; 1)) print(&#39;是否含有XiongJum这个字符串：{}&#39;.format(&#39;XiongJum&#39; in name)) 是否含有XiongJum这个字符串：True 是否含有XiongJum这个字符串：True 初识正则表达式re Python内置函数能简单解决的事情，就没有必要使用正则表达式，如下例 import re findall = re.findall(&#39;Jum&#39;, name) print(findall) if len(findall) &gt; 0: print(&#39;name含有Jum这个字符串&#39;) else: print(&#39;name不含有Jum这个字符串&#39;) [&#39;Jum&#39;, &#39;Jum&#39;] name含有Jum这个字符串 # 选择 name 里面的所有小写英文字母 re_findall = re.findall(&#39;[a-z]&#39;, name) print(re_findall) [&#39;i&#39;, &#39;o&#39;, &#39;n&#39;, &#39;g&#39;, &#39;u&#39;, &#39;m&#39;, &#39;u&#39;, &#39;m&#39;, &#39;i&#39;, &#39;o&#39;, &#39;n&#39;, &#39;g&#39;] 字符集 字符集是由一对方括号&quot;[]&ldquo;括起来的字符集合，使用字符集合可以匹配多个字符中的一个 如 C[ET]O,匹配到为CEO或CTO [0-9a-fA-F]，匹配单个的十六进制数字 字符和范围定义的先后循序对匹配的结果是没有任何影响的 a = &#39;uav,ubv,ucv,ucv,uov,uzb&#39; # 取&#39;u&#39; 和&#39;v&#39;中间为‘a’或‘b’的字符 findbat = re."/>
<script src="https://xiongjum.github.io/js/feather.min.js"></script>
	
	
        <link href="https://xiongjum.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://xiongjum.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css" />

	
	

	
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://xiongjum.github.io/">LongLit</a>
	</div>
	<div>
		<a href="/categories/编程">编程</a>
		<a href="/categories/玩机">玩机</a>
		<a href="/categories/笔记">笔记</a>
	</div>
	<nav>
		
		<a href="/post">文章</a>
		
		<a href="/tags">标签</a>
		
		<a href="/mark">书签</a>
		
		<a href="/about">关于</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">正则表达式</h1>
			<div class="meta">Posted on Jul 6, 2020</div>
		</div>
		

		<section class="body">
			<h5 id="初识正则表达式">初识正则表达式</h5>
<ul>
<li>使用python的内置函数</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 设置一个常量</span>
</span></span><span style="display:flex;"><span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;XiongJum|酒明|JumXiong|初学者&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 判断是否有字符串XiongJum</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;是否含有XiongJum这个字符串：</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(name<span style="color:#f92672">.</span>index(<span style="color:#e6db74">&#39;XiongJum&#39;</span>) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;是否含有XiongJum这个字符串：</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;XiongJum&#39;</span> <span style="color:#f92672">in</span> name))
</span></span></code></pre></div><pre><code>是否含有XiongJum这个字符串：True
是否含有XiongJum这个字符串：True
</code></pre>
<!-- raw HTML omitted -->
<ul>
<li>初识正则表达式re
<ul>
<li>Python内置函数能简单解决的事情，就没有必要使用正则表达式，如下例</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>findall <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;Jum&#39;</span>, name)
</span></span><span style="display:flex;"><span>print(findall)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> len(findall) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;name含有Jum这个字符串&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;name不含有Jum这个字符串&#39;</span>)
</span></span></code></pre></div><pre><code>['Jum', 'Jum']
name含有Jum这个字符串
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 选择 name 里面的所有小写英文字母</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>re_findall <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[a-z]&#39;</span>, name)
</span></span><span style="display:flex;"><span>print(re_findall)
</span></span></code></pre></div><pre><code>['i', 'o', 'n', 'g', 'u', 'm', 'u', 'm', 'i', 'o', 'n', 'g']
</code></pre>
<h5 id="字符集">字符集</h5>
<ul>
<li>字符集是由一对方括号&quot;[]&ldquo;括起来的字符集合，使用字符集合可以匹配多个字符中的一个
<ul>
<li>如 C[ET]O,匹配到为CEO或CTO</li>
<li>[0-9a-fA-F]，匹配单个的十六进制数字</li>
</ul>
</li>
<li>字符和范围定义的先后循序对匹配的结果是没有任何影响的</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;uav,ubv,ucv,ucv,uov,uzb&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 取&#39;u&#39; 和&#39;v&#39;中间为‘a’或‘b’的字符</span>
</span></span><span style="display:flex;"><span>findbat <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;u[ab]v&#39;</span>, a)
</span></span><span style="display:flex;"><span>print(findbat)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 如果是连续的字符，可以使用-代替</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 取&#39;u&#39; 和&#39;v&#39;中间为‘a’至‘b’的字符</span>
</span></span><span style="display:flex;"><span>findall <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;u[a-c]v&#39;</span>, a)
</span></span><span style="display:flex;"><span>print(findall)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># [^string]为取反字符集</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 取&#39;u&#39; 和&#39;v&#39;中间不为‘a’或‘b’的字符</span>
</span></span><span style="display:flex;"><span>findall <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;u[^ab]&#39;</span>, a)
</span></span><span style="display:flex;"><span>print(findall)
</span></span></code></pre></div><pre><code>['uav', 'ubv']
['uav', 'ubv', 'ucv', 'ucv']
['uc', 'uc', 'uo', 'uz']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>num <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;171-2119-2606-A4-A5&amp;A6&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 概括字符集</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># \d, 相当于[0-9]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># \D, 相当于[^0-9]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># \w, 相当于[A-Za-z0-9], 相当于匹配所有单词字符</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>notnum <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;\D&#39;</span>, num)
</span></span><span style="display:flex;"><span>stringall <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;\w&#39;</span>, num)
</span></span><span style="display:flex;"><span>num <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;\d&#39;</span>, num)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(notnum, <span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>, num, <span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>, stringall)
</span></span></code></pre></div><pre><code>['-', '-', '-', 'A', '-', 'A', '&amp;', 'A'] 
 ['1', '7', '1', '2', '1', '1', '9', '2', '6', '0', '6', '4', '5', '6'] 
 ['1', '7', '1', '2', '1', '1', '9', '2', '6', '0', '6', 'A', '4', 'A', '5', 'A', '6']
</code></pre>
<h5 id="数量词">数量词</h5>
<ul>
<li>词法：{min, max}, min和max 都是非负整数</li>
<li>\b[1-9][0-8]{2,3}\b, 表示为 100-9888之间的数字, \b 表示的是边界</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>stringnum <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;python@java@C#123@C++XiongJumm&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 匹配4-7位的连续字母</span>
</span></span><span style="display:flex;"><span>findall <span style="color:#f92672">=</span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[a-zA-Z]{4,7}&#39;</span>, stringnum)
</span></span><span style="display:flex;"><span>print(findall)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 匹配 0-7位的连续字母</span>
</span></span><span style="display:flex;"><span>findall <span style="color:#f92672">=</span> findall <span style="color:#f92672">=</span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[a-zA-Z]{,7}&#39;</span>, stringnum)
</span></span><span style="display:flex;"><span>print(findall)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 匹配 2-正无穷的连续字母</span>
</span></span><span style="display:flex;"><span>findall <span style="color:#f92672">=</span> findall <span style="color:#f92672">=</span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[a-zA-Z]{2,}&#39;</span>, stringnum)
</span></span><span style="display:flex;"><span>print(findall)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 匹配连续两位的连续字母</span>
</span></span><span style="display:flex;"><span>findall <span style="color:#f92672">=</span> findall <span style="color:#f92672">=</span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[a-zA-Z]</span><span style="color:#e6db74">{2}</span><span style="color:#e6db74">&#39;</span>, stringnum)
</span></span><span style="display:flex;"><span>print(findall)
</span></span></code></pre></div><pre><code>['python', 'java', 'XiongJu']
['python', '', 'java', '', 'C', '', '', '', '', '', 'C', '', '', 'XiongJu', 'mm', '']
['python', 'java', 'XiongJumm']
['py', 'th', 'on', 'ja', 'va', 'Xi', 'on', 'gJ', 'um']
</code></pre>
<ul>
<li>贪婪模式
<ul>
<li>一次性的读入整个字符串，如果不匹配就丢弃最右边的一个字符，如此循环，直到字符串的长度为0，如上例</li>
</ul>
</li>
<li>懒惰模式
<ul>
<li>从字符串的最有左边开始，从0开始读取，若失败则多读一个字符，如此循环，直到读取完成，如下例</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 须在后方加入一个“？”，相当于{4}</span>
</span></span><span style="display:flex;"><span>findall <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[a-zA-Z]{4,7}?&#39;</span>, stringnum)
</span></span><span style="display:flex;"><span>print(findall)
</span></span></code></pre></div><pre><code>['pyth', 'java', 'Xion', 'gJum']
</code></pre>
<h5 id="边界匹配符和组">边界匹配符和组</h5>
<ul>
<li>一般边界匹配符有一下几种</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">语法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">^</td>
<td style="text-align:left">匹配字符串开头（在有多行的情况中匹配每行的开头）</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left">匹配字符串末尾（在有多行的情况下匹配每行的开头）</td>
</tr>
<tr>
<td style="text-align:left">\A</td>
<td style="text-align:left">仅匹配字符串的开头</td>
</tr>
<tr>
<td style="text-align:left">\Z</td>
<td style="text-align:left">仅匹配字符串的末尾</td>
</tr>
<tr>
<td style="text-align:left">\b</td>
<td style="text-align:left">匹配\w和\W之间</td>
</tr>
<tr>
<td style="text-align:left">\B</td>
<td style="text-align:left">\b</td>
</tr>
</tbody>
</table>
<ul>
<li>分组
<ul>
<li>被括号括起来的的表达式就是分组。</li>
<li>分组表达式（&hellip;）其实就是把这部分字符作为一个整体</li>
<li>可以有多分组的情况，每遇到一个分组，编号就会+1，而且分组后面也是可以加数量词的</li>
</ul>
</li>
</ul>
<h5 id="替换字符串">替换字符串</h5>
<ul>
<li>re.sub
<ul>
<li>一些项目中我们需要替换字符串中的字符，这是后就可以使用函数 def sub()</li>
<li>具体参数如下</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">pattern</td>
<td style="text-align:left">必选，表示正则中的模式字符串</td>
</tr>
<tr>
<td style="text-align:left">repl</td>
<td style="text-align:left">必选，被替换的字符串</td>
</tr>
<tr>
<td style="text-align:left">string</td>
<td style="text-align:left">必选，表示要被处理，要被替换的那个string</td>
</tr>
<tr>
<td style="text-align:left">count</td>
<td style="text-align:left">可选，对于pattern中部分匹配到的结果，count可以对前几个group进行替换</td>
</tr>
<tr>
<td style="text-align:left">flags</td>
<td style="text-align:left">可选，正则表达式修饰符</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Python$Android*Java-121&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将&#34;*&#34;或&#34;$&#34;替换为&#34;&amp;&#34;</span>
</span></span><span style="display:flex;"><span>sub1 <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(<span style="color:#e6db74">&#39;[\*$]&#39;</span>,<span style="color:#e6db74">&#39;&amp;&#39;</span>,a)
</span></span><span style="display:flex;"><span>print(sub1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将字符串中第一个&#34;&amp;&#34;替换成 &#34;*&#34;</span>
</span></span><span style="display:flex;"><span>sub2 <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(<span style="color:#e6db74">&#39;\&amp;&#39;</span>, <span style="color:#e6db74">&#39;*&#39;</span>, sub1, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(sub2)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将字符串中 &#34;*&#34; 替换为&#34;!&#34;, &#34;&#34;&amp; 替换为&#34;-&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义一个函数</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">convert</span>(value):
</span></span><span style="display:flex;"><span>    group <span style="color:#f92672">=</span> value<span style="color:#f92672">.</span>group()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (group <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;*&#39;</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;!&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> (group <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;&amp;&#39;</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;-&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>sub3 <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(<span style="color:#e6db74">&#39;[\*&amp;]&#39;</span>, convert, sub2)
</span></span><span style="display:flex;"><span>print(sub3)
</span></span></code></pre></div><pre><code>Python&amp;Android&amp;Java-121
Python*Android&amp;Java-121
Python!Android-Java-121
</code></pre>
<h5 id="rematch-和-research">re.match 和 re.search</h5>
<ul>
<li>re.match函数
<ul>
<li>语法：re.match(pattern, string, flag=0)</li>
<li>re.match 尝试从字符串的起始位置匹配一个模式，如果不是其实位置匹配成功的话， match() 就返回None</li>
</ul>
</li>
<li>re.search()函数
<ul>
<li>re.search(pattern, string, flag=0)</li>
<li>扫描整个字符串并返回第一个成功的匹配</li>
</ul>
</li>
<li>re.match() 和 re.search() 的具体描述如下</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">pattern</td>
<td style="text-align:left">匹配的正则表达式</td>
</tr>
<tr>
<td style="text-align:left">string</td>
<td style="text-align:left">要匹配的字符串</td>
</tr>
<tr>
<td style="text-align:left">flags</td>
<td style="text-align:left">标志位，用于控制正则表达是的匹配方式，如:是否区别大小写</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">区别</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">re.match()</td>
<td style="text-align:left">只匹配字符串的开始。如果字符串开始不符合正则表达式，则匹配失败，函数返回None</td>
</tr>
<tr>
<td style="text-align:left">re.search()</td>
<td style="text-align:left">匹配整个字符串，直到找到一个匹配</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>img <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;img src=&#34;http://static.xiaobu.hk/cityact/application/images/20200612/2QCXwH6pej.JPG&#34;&gt;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用re.search()</span>
</span></span><span style="display:flex;"><span>search <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;&lt;img src=&#34;(.*)&#34;&gt;&#39;</span>, img)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># group(0)是一个完整的分组</span>
</span></span><span style="display:flex;"><span>print(search<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>print(search<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用re.findall()</span>
</span></span><span style="display:flex;"><span>search <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;&lt;img src=&#34;(.*)&#34;&gt;&#39;</span>, img)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># group(0)是一个完整的分组</span>
</span></span><span style="display:flex;"><span>print(search)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 多个分组的使用</span>
</span></span><span style="display:flex;"><span>search <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;&lt;(.*) src=&#34;(.*)&#34;&gt;&#39;</span>, img)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;打印字符串 img:&#34;</span>, search<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;打印图片地址&#34;</span>, search<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;以元组的形式打印 img和图片地址:&#34;</span>, search<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;使用 groups:&#34;</span>,search<span style="color:#f92672">.</span>groups())
</span></span></code></pre></div><pre><code>&lt;img src=&quot;http://static.xiaobu.hk/cityact/application/images/20200612/2QCXwH6pej.JPG&quot;&gt;
http://static.xiaobu.hk/cityact/application/images/20200612/2QCXwH6pej.JPG
['http://static.xiaobu.hk/cityact/application/images/20200612/2QCXwH6pej.JPG']
打印字符串 img: img
打印图片地址 http://static.xiaobu.hk/cityact/application/images/20200612/2QCXwH6pej.JPG
以元组的形式打印 img和图片地址: ('img', 'http://static.xiaobu.hk/cityact/application/images/20200612/2QCXwH6pej.JPG')
使用 groups: ('img', 'http://static.xiaobu.hk/cityact/application/images/20200612/2QCXwH6pej.JPG')
</code></pre>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/python3">Python3</a></li>
					
					<li><a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F">正则表达式</a></li>
					
					<li><a href="/tags/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80">编程基础</a></li>
					
				</ul>
			</nav>
			
			
		</div>
		</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/athul/archie" rel="me" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2024  © LongLit |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>

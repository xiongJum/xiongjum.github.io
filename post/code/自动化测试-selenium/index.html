<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Selenium - LongLit</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Selenium 是支持 web 浏览器自动化的一系列工具和库的综合性项目，它提供了扩展来模拟用户与浏览器的交互，用于扩展浏览器分配的分发服务器， 以及用于实现 W3C WebDriver 规范的基础结构， 该规范允许您为所有主要 Web 浏览器编写可互换的代码.
Selenium 汇集了浏览器供应商，工程师和爱好者，以进一步围绕 Web 平台自动化进行公开讨论。 该项目组织了一次年度会议，以教学和培养社区.
Selenium 的核心是 WebDriver，这是一个编写指令集的接口，可以在许多浏览器中互换运行" />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="Selenium" />
<meta property="og:description" content="Selenium 是支持 web 浏览器自动化的一系列工具和库的综合性项目，它提供了扩展来模拟用户与浏览器的交互，用于扩展浏览器分配的分发服务器， 以及用于实现 W3C WebDriver 规范的基础结构， 该规范允许您为所有主要 Web 浏览器编写可互换的代码.
Selenium 汇集了浏览器供应商，工程师和爱好者，以进一步围绕 Web 平台自动化进行公开讨论。 该项目组织了一次年度会议，以教学和培养社区.
Selenium 的核心是 WebDriver，这是一个编写指令集的接口，可以在许多浏览器中互换运行" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xiongjum.github.io/post/code/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95-selenium/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-06-29T09:00:00+00:00" />
<meta property="article:modified_time" content="2020-06-29T09:00:00+00:00" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Selenium"/>
<meta name="twitter:description" content="Selenium 是支持 web 浏览器自动化的一系列工具和库的综合性项目，它提供了扩展来模拟用户与浏览器的交互，用于扩展浏览器分配的分发服务器， 以及用于实现 W3C WebDriver 规范的基础结构， 该规范允许您为所有主要 Web 浏览器编写可互换的代码.
Selenium 汇集了浏览器供应商，工程师和爱好者，以进一步围绕 Web 平台自动化进行公开讨论。 该项目组织了一次年度会议，以教学和培养社区.
Selenium 的核心是 WebDriver，这是一个编写指令集的接口，可以在许多浏览器中互换运行"/>
<script src="https://xiongjum.github.io/js/feather.min.js"></script>
	
	
        <link href="https://xiongjum.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://xiongjum.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css" />

	
	

	
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://xiongjum.github.io/">LongLit</a>
	</div>
	<div>
		<a href="/categories/编程">编程</a>
		<a href="/categories/玩机">玩机</a>
		<a href="/categories/笔记">笔记</a>
	</div>
	<nav>
		
		<a href="/post">文章</a>
		
		<a href="/tags">标签</a>
		
		<a href="/mark">书签</a>
		
		<a href="/about">关于</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Selenium</h1>
			<div class="meta">Posted on Jun 29, 2020</div>
		</div>
		

		<section class="body">
			<p>Selenium 是支持 web 浏览器自动化的一系列工具和库的综合性项目，它提供了扩展来模拟用户与浏览器的交互，用于扩展浏览器分配的分发服务器， 以及用于实现 <a href="https://www.w3.org/TR/webdriver/">W3C WebDriver</a> 规范的基础结构， 该规范允许您为所有主要 Web 浏览器编写可互换的代码.</p>
<p>Selenium 汇集了浏览器供应商，工程师和爱好者，以进一步围绕 Web 平台自动化进行公开讨论。 该项目组织了一次年度会议，以教学和培养社区.</p>
<p>Selenium 的核心是 <a href="https://www.selenium.dev/zh-cn/documentation/webdriver/">WebDriver</a>，这是一个编写指令集的接口，可以在许多浏览器中互换运行</p>
<h1 id="准备所需文件">准备所需文件</h1>
<ol>
<li>下载selenium库,</li>
<li>下载浏览器驱动，并将浏览器驱动放入项目的根目录下，并在执行文件中设置路径地址；或者将其所在目录加入到环境变量中；也可以直接在脚本中安装驱动</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>pip3 install selenium
</span></span></code></pre></div><p>chrome <a href="http://chromedriver.chromium.org/downloads">http://chromedriver.chromium.org/downloads</a></p>
<h1 id="开始编写测试脚本">开始编写测试脚本</h1>
<h2 id="基础的-selenium-的脚本文件">基础的 selenium 的脚本文件</h2>
<p>编写执行脚本文件</p>
<p>通过使用方法 driver.implicitly_wait(10) 可以设置隐式的等待时间，但是不建议；设置窗口最大化，可以调用方法 driver.maximize_window()</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium <span style="color:#f92672">import</span> webdriver
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 添加浏览器驱动，并设置测试地址</span>
</span></span><span style="display:flex;"><span>driver <span style="color:#f92672">=</span> webdriver<span style="color:#f92672">.</span>Chrome()
</span></span><span style="display:flex;"><span>driver<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;http://blog.xcumin.top&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 通过 id 定位测试元素控件，并在控件中输入测试文本</span>
</span></span><span style="display:flex;"><span>driver<span style="color:#f92672">.</span>find_element_by_id(<span style="color:#e6db74">&#34;username&#34;</span>)<span style="color:#f92672">.</span>send_keys(<span style="color:#e6db74">&#39;xiongceshi&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 退出浏览器</span>
</span></span><span style="display:flex;"><span>driver<span style="color:#f92672">.</span>quit()
</span></span></code></pre></div><p>可以通过python自带的测试库 <a href="https://docs.python.org/zh-cn/3/library/unittest.html">unittest</a> 调整结构，并引用测试断言</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> unittest
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium <span style="color:#f92672">import</span> webdriver
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SeleniumTest</span>(unittest<span style="color:#f92672">.</span>TestCase):
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">setUp</span>(self): <span style="color:#75715e"># 测试前置方法，在所有的方法之前进行运行</span>
</span></span><span style="display:flex;"><span>	self<span style="color:#f92672">.</span>driver <span style="color:#f92672">=</span> webdriver<span style="color:#f92672">.</span>Chrome()
</span></span><span style="display:flex;"><span>	self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>implicitly_wait(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>	self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;http://test.lsgot.com:8181/#/login&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">tearDown</span>(self): <span style="color:#75715e"># 测试后置方法，在所有测试方法之后运行</span>
</span></span><span style="display:flex;"><span>	self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>quit()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_login</span>(self):
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;&#34;&#34;登录软件&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>	self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element(By<span style="color:#f92672">=</span>id(<span style="color:#e6db74">&#39;loginUsername&#39;</span>))<span style="color:#f92672">.</span>send_keys(<span style="color:#e6db74">&#39;WWGS&#39;</span>)
</span></span><span style="display:flex;"><span>	self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_id(<span style="color:#e6db74">&#39;loginPassword&#39;</span>)<span style="color:#f92672">.</span>send_keys(<span style="color:#e6db74">&#39;123456&#39;</span>)
</span></span><span style="display:flex;"><span>	self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>find_element_by_id(<span style="color:#e6db74">&#39;loginButton&#39;</span>)<span style="color:#f92672">.</span>click()
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    unittest<span style="color:#f92672">.</span>main()
</span></span></code></pre></div><h2 id="增加断言测试输出是否符合条件">增加断言，测试输出是否符合条件</h2>
<p>使用 unittest.TestCase 模块，判断结果是否符合预期，并在命令行中显示测试结果</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium <span style="color:#f92672">import</span> webdriver
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium.webdriver.support.ui <span style="color:#f92672">import</span> WebDriverWait
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium.webdriver.support <span style="color:#f92672">import</span> expected_conditions <span style="color:#66d9ef">as</span> EC
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium.webdriver.common.by <span style="color:#f92672">import</span> By
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> unittest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">seleniumTest</span>(unittest<span style="color:#f92672">.</span>TestCase):
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">testlogin</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;错误的账号密码进行登录，并判断提示文案是否正确&#34;&#34;&#34;</span>       
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">...</span> skip
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 设置显式等待时间，强制等待2秒查找元素</span>
</span></span><span style="display:flex;"><span>        errorMsg <span style="color:#f92672">=</span> WebDriverWait(self<span style="color:#f92672">.</span>driver, <span style="color:#ae81ff">2</span>) <span style="color:#f92672">.</span>until \
</span></span><span style="display:flex;"><span>        	(EC<span style="color:#f92672">.</span>visibility_of_element_located((By<span style="color:#f92672">.</span>ID,<span style="color:#e6db74">&#34;errorMsg&#34;</span>)))<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>        errorText <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;账户或密码错误，请重新输入呀！&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 断言，比较两者的的字符串是否一致，若一致则为True，不一致则为Flase并抛出错误</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>assertEqual(errorMsg, errorText, <span style="color:#e6db74">&#39;提示文案错误&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    unittest<span style="color:#f92672">.</span>main()
</span></span></code></pre></div><h2 id="增加功能截取产生有bug的界面">增加功能，截取产生有bug的界面</h2>
<p>使用 save_screenshot() 截取错误页面，并保存到设置的路径中</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">seleniumTest</span>(unittest<span style="color:#f92672">.</span>TestCase):
</span></span><span style="display:flex;"><span>		<span style="color:#960050;background-color:#1e0010">···</span> skip  
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 错误代码块，当try为True时，跳过except，当try为Flase时，执行except</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>assertEqual(errorMsg, errorText)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># 截取当前界面，字符串中的内容为保存路径</span>
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>save_screenshot(<span style="color:#e6db74">&#39;./test.png&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># 断言，无条件的创造失败，字符串为错误说明</span>
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>fail(<span style="color:#e6db74">&#34;登录失败时，提示文案错误&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    unittest<span style="color:#f92672">.</span>main()
</span></span></code></pre></div><h1 id="优化代码结构产生测试报告">优化代码结构，产生测试报告</h1>
<h2 id="储存配置以及通用方法">储存配置以及通用方法</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># seleniumconfig.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> unittest
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium <span style="color:#f92672">import</span> webdriver
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium.webdriver.support.ui <span style="color:#f92672">import</span> WebDriverWait
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium.webdriver.support <span style="color:#f92672">import</span> expected_conditions <span style="color:#66d9ef">as</span> EC
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">seleniumConfig</span>(unittest<span style="color:#f92672">.</span>TestCase):
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;&#34;&#34;储存重复的方法，以及通用配置&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">setUp</span>(cls):
</span></span><span style="display:flex;"><span>        cls<span style="color:#f92672">.</span>driver <span style="color:#f92672">=</span> webdriver<span style="color:#f92672">.</span>Firefox()	
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">...</span> skip
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">find_element_try</span>(self, real, demand, explana):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;判断实际内容和需求是否一致，若不一致则截取图片，并返回错误说明&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>assertEqual(real, demand)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>fail(explana)
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>save_screenshot(<span style="color:#e6db74">&#39;./test.png&#39;</span>)   
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">find_element_wait</span>(self, wait_time, type_element, element):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;检查元素是否存在，若不存在则截取图片并返回错误说明&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> WebDriverWait(self<span style="color:#f92672">.</span>driver, wait_time)<span style="color:#f92672">.</span>until \
</span></span><span style="display:flex;"><span>                (EC<span style="color:#f92672">.</span>visibility_of_element_located((type_element,element)))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>fail(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>element<span style="color:#e6db74">}</span><span style="color:#e6db74">查找失败，请检查元素是否正确或产品出现缺陷&#34;</span>) <span style="color:#75715e">#格式化字符串</span>
</span></span></code></pre></div><h2 id="设计测试流程设计测试用例">设计测试流程、设计测试用例</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># seleniumtest.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> seleniumconfig <span style="color:#f92672">import</span> seleniumConfig
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> selenium.webdriver.common.by <span style="color:#f92672">import</span> By
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">seleniumTest</span>(seleniumConfig):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_b_login</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;错误的账号密码进行登录，并判断提示文案是否正确&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">...</span> skip
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>        errorMsg <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>find_element_wait(<span style="color:#ae81ff">2</span>,By<span style="color:#f92672">.</span>ID,<span style="color:#e6db74">&#34;errorMsg&#34;</span>)<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span>       <span style="color:#75715e"># 判断错误提示文案和需求是否一致</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>find_element_try(errorMsg, <span style="color:#e6db74">&#39;账户或密码错误，请重新输入！&#39;</span>, 
</span></span><span style="display:flex;"><span>							  <span style="color:#e6db74">&#39;登录失败时，提示文案错误&#39;</span>)
</span></span><span style="display:flex;"><span>		
</span></span></code></pre></div><h2 id="生成测试报告">生成测试报告</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># seleniumrun.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> unittest
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> HTMLTestRunner
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> time
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> seleniumtest <span style="color:#f92672">import</span> seleniumTest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取测试用例，创建测试套件(若有多份测试用例，可以创建多份测试套件)</span>
</span></span><span style="display:flex;"><span>web_login <span style="color:#f92672">=</span> unittest<span style="color:#f92672">.</span>TestLoader()<span style="color:#f92672">.</span>loadTestsFromTestCase(seleniumTest)
</span></span><span style="display:flex;"><span>kts_login <span style="color:#f92672">=</span> unittest<span style="color:#f92672">.</span>TestSuite([web_login])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#设置报告的写入路径和名称</span>
</span></span><span style="display:flex;"><span>dir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>getcwd()
</span></span><span style="display:flex;"><span>nowTime <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y%m</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">%H%M%S&#39;</span>,time<span style="color:#f92672">.</span>localtime(time<span style="color:#f92672">.</span>time()))
</span></span><span style="display:flex;"><span>outPath <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;./outFile/webTestReport</span><span style="color:#e6db74">{</span>nowTime<span style="color:#e6db74">}</span><span style="color:#e6db74">.html&#39;</span>
</span></span><span style="display:flex;"><span>outFile <span style="color:#f92672">=</span> open(dir <span style="color:#f92672">+</span> outPath, <span style="color:#e6db74">&#39;wb&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 创建测试内容，执行测试套件</span>
</span></span><span style="display:flex;"><span>runner <span style="color:#f92672">=</span> HTMLTestRunner<span style="color:#f92672">.</span>HTMLTestRunner(
</span></span><span style="display:flex;"><span>    stream<span style="color:#f92672">=</span> outFile,
</span></span><span style="display:flex;"><span>    title<span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;测试报告&#39;</span>,
</span></span><span style="display:flex;"><span>    description<span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;WEB支撑平台测试_UI自动化回归测试&#39;</span>,
</span></span><span style="display:flex;"><span>    verbosity<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>runner<span style="color:#f92672">.</span>run(kts_login)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 不生成测试报告</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># unittest.TextTestRunner(verbosity=2).run(kts_login)</span>
</span></span></code></pre></div><p>执行 seleniumrun.py ，获取测试报告</p>
		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/python3">Python3</a></li>
					
					<li><a href="/tags/%E6%B5%8B%E8%AF%95">测试</a></li>
					
				</ul>
			</nav>
			
			
		</div>
		</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/athul/archie" rel="me" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2024  © LongLit |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>
